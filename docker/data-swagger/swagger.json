{"consumes": ["application/json"], "produces": ["application/json"], "schemes": ["https"], "swagger": "2.0", "info": {"description": "main Package", "contact": {"name": "Support", "url": "https://minegame.fr", "email": "vincent.glize@live.fr"}, "license": {"name": "Proprietary"}, "version": "1.0"}, "host": "localhost", "basePath": "/", "paths": {"/v1/user": {"delete": {"security": [{"jwtToken": ["read"]}], "description": "Handler to unlock a user", "tags": ["user"], "operationId": "jwtToken", "parameters": [{"type": "string", "description": "Authorization header for a users bearer token", "name": "Authorization", "in": "header", "required": true}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "403": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/user/lock": {"put": {"security": [{"jwtToken": ["read"]}], "description": "Handler to unlock a user", "tags": ["user"], "operationId": "jwtToken", "parameters": [{"type": "string", "description": "Authorization header for a users bearer token", "name": "Authorization", "in": "header", "required": true}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "403": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/user/register": {"post": {"description": "Handler to register", "tags": ["user"], "operationId": "registerRequest", "parameters": [{"type": "string", "x-go-name": "Login", "name": "login", "in": "query"}, {"type": "string", "x-go-name": "Password", "name": "password", "in": "query"}, {"type": "string", "x-go-name": "Email", "name": "email", "in": "query"}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "409": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/user/unlock": {"put": {"security": [{"jwtToken": ["read"]}], "description": "Handler to unlock a user", "tags": ["user"], "operationId": "jwtToken", "parameters": [{"type": "string", "description": "Authorization header for a users bearer token", "name": "Authorization", "in": "header", "required": true}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "403": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/version": {"post": {"description": "Handler to get version", "operationId": "version", "responses": {"200": {"$ref": "#/responses/versionResponse"}}}}, "/v1/auth/login": {"post": {"description": "Handler to login", "tags": ["user"], "operationId": "login", "parameters": [{"name": "Body", "in": "body", "schema": {"type": "object", "required": ["login", "password"], "properties": {"login": {"description": "User login", "type": "string", "x-go-name": "Login"}, "password": {"description": "User password", "type": "string", "x-go-name": "Password"}}}}], "responses": {"200": {"$ref": "#/responses/authResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "403": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/auth/logout": {"post": {"description": "Handler to logout", "tags": ["user"], "operationId": "jwtToken", "parameters": [{"type": "string", "description": "Authorization header for a users bearer token", "name": "Authorization", "in": "header", "required": true}], "responses": {"200": {"$ref": "#/responses/sessionRemovalResponse"}, "403": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/message": {"get": {"security": [{"jwtToken": ["read"]}], "description": "Returns messages received by the logged-in user", "tags": ["message"], "operationId": "messageListResponse", "responses": {"200": {"$ref": "#/responses/messageListResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "409": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}, "post": {"security": [{"jwtToken": ["read"]}], "description": "Sent a message to a user", "tags": ["message"], "operationId": "messageRequest", "parameters": [{"type": "string", "x-go-name": "Message", "name": "message", "in": "query"}, {"type": "string", "x-go-name": "NameReceiver", "name": "receiver", "in": "query"}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "409": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}, "/v1/message/:messageID": {"put": {"security": [{"jwtToken": ["read"]}], "description": "Handler to modify a message", "tags": ["message"], "operationId": "modifyMessageRequest", "parameters": [{"type": "string", "x-go-name": "Message", "name": "message", "in": "query"}], "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "401": {"$ref": "#/responses/ErrorResponse"}, "409": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}, "delete": {"security": [{"jwtToken": ["read"]}], "description": "Handler to delete a message", "tags": ["message"], "operationId": "messageID", "responses": {"200": {"$ref": "#/responses/MessageResponse"}, "400": {"$ref": "#/responses/ErrorResponse"}, "500": {"$ref": "#/responses/ErrorResponse"}}}}}, "definitions": {"Message": {"description": "Structure of message", "type": "object", "properties": {"creation-date": {"type": "string", "x-go-name": "CreationDate"}, "id": {"type": "string", "x-go-name": "ID"}, "message": {"type": "string", "x-go-name": "Message"}, "user-receiver-id": {"type": "string", "x-go-name": "UserReceiverID"}, "user-receiver-name": {"type": "string", "x-go-name": "UserReceiverName"}, "user-sender-id": {"type": "string", "x-go-name": "UserSenderID"}, "user-sender-name": {"type": "string", "x-go-name": "UserSenderName"}}, "x-go-package": "gitlab.com/projetAPI/ProjetAPI/entity"}}, "responses": {"ErrorResponse": {"schema": {"type": "object", "required": ["message"], "properties": {"message": {"description": "Error message", "type": "string", "x-go-name": "Message"}}}}, "MessageResponse": {"schema": {"type": "object", "required": ["message"], "properties": {"message": {"description": "Message", "type": "string", "x-go-name": "Message"}}}}, "versionResponse": {"schema": {"type": "object", "required": ["version"], "properties": {"build_date": {"description": "Service build date", "type": "string", "x-go-name": "BuildDate"}, "version": {"description": "Service version", "type": "string", "x-go-name": "Version"}}}}, "authResponse": {"schema": {"type": "object", "required": ["token", "user_id"], "properties": {"token": {"description": "The JWT response token", "type": "string", "x-go-name": "Token"}, "user_id": {"description": "User ID", "type": "string", "x-go-name": "UserID"}}}}, "sessionRemovalResponse": {"schema": {"type": "object", "required": ["status"], "properties": {"status": {"description": "Response status", "type": "string", "x-go-name": "Status"}}}}, "messageListResponse": {"schema": {"type": "object", "required": ["messages"], "properties": {"messages": {"description": "Messages", "type": "array", "items": {"$ref": "#/definitions/Message"}, "x-go-name": "Messages"}}}}}}